@using TenVids.Utilities

@model WatchVideoVM
<style>
    video {
        width: 100%;
        border-radius: 20px;
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        outline: none;
    }

        video:hover {
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.9);
        }

    .font-btn {
        font-size: 1.2rem;
    }
</style>

<a asp-action="Index" asp-controller="Home" class="btn btn-primary btn-lg">Back</a>

<div class="row mt-3">
    <div class="col-lg-9 mb-2">
        <video controls>
            <source src="/Video/GetVideoFile?videoId=@Model.Id" type="" />
            Your browser does not support the video tag.
        </video>
        <div class="d-flex justify-content-between mt-2">
            <section>
                <span class="badge bg-warning font-btn" id="increase-views-btn">
                    <i class="bi bi-eye"></i><span id="view-count" class="ms-2">@Model.ViewsCount.ToString("N0")</span>
                </span>
            </section>
            <section class="d-flex align-content-center">
                <button class="btn btn@(Model.IsLiked ? "" : "-outline")-dark font-btn me-1" id="likeBtn" onclick="likeDislike('likeBtn', 'like')">
                    <i class="bi bi-hand-thumbs-up-fill"></i> <span class="ms-2">@SD.FormatView(Model.LikesCount)</span>
                </button>
                <button class="btn btn@(Model.IsDisliked ? "" : "-outline")-dark font-btn me-1" id="dislikeBtn" onclick="likeDislike('dislikeBtn', 'dislike')">
                    <i class="bi bi-hand-thumbs-down-fill"></i> <span class="ms-2">@SD.FormatView(Model.DislikesCount)</span>
                </button>
                <form method="post">
                    <button asp-action="DownloadVideo" asp-route-videoId="@Model.Id" type="submit" class="btn btn-outline-primary font-btn">Download</button>
                </form>
            </section>
        </div>
    </div>
    </div>
